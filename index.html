<!DOCTYPE html>
<html>
<link rel="stylesheet" type="text/css" href="css/global-styles.css">
<link rel="stylesheet" href="https://use.typekit.net/wvw8sro.css">
<head>
    <meta charset="UTF-8" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haven Official Website</title>
    <meta name="description" content="Oakland's first above-ground, independent music venue in 20 years is planned to launch in January 2025. Get in touch, or sign up for our newsletter so we can keep you in the loop!">
    <link rel="icon" href="media/backgrounds/Church.png" type="image/png"> <!-- For .png files -->

    <!-- Additional Meta Tags for SEO -->
    <meta name="keywords" content="pittsburgh, venue, music, art, independent">
    <meta name="author" content="Post Genre Records">
    
    <!-- Open Graph Meta Tags for social media sharing -->
    <meta property="og:title" content="Haven Official Website">
    <meta property="og:description" content="Oakland music starts here">
   <!-- <meta property="og:image" content="https://www.havenvenue.com/church">  URL of the image -->
    <meta property="og:url" content="https://www.havenvenue.com/">

</head>


<body>
    <div class="background-wrapper"></div>
    <div class="flowers">
        <div id="flower-bundleL" class="flower-bundleL">
            <img src="media/flowers/flowers_L_downscaled/lily4.png" class="flowerL flower4" alt="Flower 4">
            <img src="media/flowers/flowers_L_downscaled/lily5.png" class="flowerL flower3" alt="Flower 3">

            <img src="media/flowers/flowers_L_downscaled/lily2-flip.png" class="flowerL flower1" alt="Flower 1">
            <img src="media/flowers/flowers_L_downscaled/lily2.png" class="flowerL flower2" alt="Flower 2">
        </div>
        <div id="flower-bundleR" class="flower-bundleR">
            <img src="media/flowers/flowers_R_downscaled/lily4.png" class="flowerR flower7" alt="Flower 3">
            <img src="media/flowers/flowers_R_downscaled/lily1.png" class="flowerR flower5" alt="Flower 1">
            <img src="media/flowers/flowers_R_downscaled/lily4.png" class="flowerR flower6" alt="Flower 2">
           <img src="media/flowers/flowers_R_downscaled/lily3.png" class="flowerR flower8" alt="Flower 4">
        </div>
    </div>
    
   <section>

    <div class="church" style="height: fit-content;">
        <img src="media/backgrounds/Church.png" alt="Church">
        <h1 id="animated-word" class="website-title">HAVEN</h1>
    </div>        
    <div class="bricked-up-body">
        <section id="newsletter-signup" class="newsletter-signup">
            <p><i class="arrow">↓</i></p>
            <h2>LAUNCHING THIS JANUARY</h2>
            <p>BE THE FIRST TO KNOW WHEN TICKETS GO LIVE</p>
        <div class="input-forms">
            <form id="newsletterForm">
                <div class="name">
                    <input type="text" style="width: 100%" name="firstName" placeholder="First Name (optional)" optional></label>
                    <input type="text" style="width: 100%" name="lastName" placeholder="Last Name (optional)" optional></label>
                </div> 
                <input type="email" id="email" name="email" placeholder="Enter your email" required>
                <input type="phone" id="phone" name="phone" placeholder="Enter your phone number (optional)" optional>
                <button type="submit">Subscribe</button>
            </form>
            <p>GET IN TOUCH!</p>

            <div class="socials">
                <a href="mailto:info@postgenre.world">
                    <img src="../havensite/media/email.png" alt="email">
                </a>
                <a href="https://discord.gg/YnPGXRsryk">
                    <img src="../havensite/media/discord.svg" alt="discord" style="filter: brightness(0);">
                </a>
                <a href="https://www.instagram.com/postgenre.world/reels/?hl=en">
                    <img src="../havensite/media/instagram.png" alt="intagram">
                </a>
            </div>
        <!--
            <form id="contactForm">
                <div class="input-container">
                    <div class="name">
                        <input type="text" style="width: 100%" name="firstName" placeholder="First Name" optional></label>
                        <input type="text" style="width: 100%" name="lastName" placeholder="Last Name" optional></label>
                    </div> 
                    <input type="email" name="email" placeholder="Email Address"required></label>
                    <input type="phone" id="phone" name="phone" placeholder="Enter your phone number (optional)" optional>
                    <textarea name="message" placeholder="Enter your message here!" required></textarea></label>
                    <button type="submit">Send</button>
                </div> 
            </form>
        -->
            <p id="responseMessage"></p>
        </div>
            <div class="copyright">
                © 2024 Post Genre. All Rights Reserved.
            </div>
        </section>
        
    </div>
   </section>

</body>


<script>
    document.addEventListener('DOMContentLoaded',function() {
        const flowersL = document.querySelectorAll('.flowerL');
        const flowersR = document.querySelectorAll('.flowerR');
        const totalDuration = 2;

        flowersL.forEach((flower, index) => {
            const delayFraction = (index+1) / flowersL.length;
            const delay = totalDuration * delayFraction;

            flower.style.setProperty('--animation-delay',`-${delay}s`)
        })

        flowersR.forEach((flower, index) => {
            const delayFraction = (index+1)/flowersR.length;
            const delay = totalDuration * delayFraction;

            flower.style.setProperty("--animation-delay", `-${delay}s`)
        })

    });
</script>

<script>
    function checkWindowSize() {
        const arrow = document.querySelector('.arrow')

        if(window.innerWidth < 500) {
            arrow.style.display = 'none';
            arrow.parentElement.style.display='none';
        }
        else {
            arrow.style.display = "inline-block"
            arrow.parentElement.style.display='block';
        }
    }

    checkWindowSize();
    window.addEventListener('resize', checkWindowSize);
</script>

<script>
    window.addEventListener('beforeunload', () => {
        window.scrollTo(0,0);
    })
</script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
    const word = document.getElementById('animated-word');
    const newsletterSignup = document.getElementById('newsletter-signup');
    const flowerBundleL = document.getElementById('flower-bundleL');
    const flowerBundleR = document.getElementById('flower-bundleR');
    
    // Check if both elements exist to avoid null errors
    if (word && newsletterSignup) {
        document.addEventListener('scroll', () => {
            const scrollPosition = window.scrollY; // Get the current scroll position

            const maxSpacing = 40; // Maximum letter spacing in pixels
            const maxOffset = -100;
            const startScroll = 0; // Scroll position where spacing starts to change
            const endScroll = window.innerHeight * .5; // Scroll position where maximum spacing is applied
            //SCALE VARIABLES
            const startScaleScroll = document.body.scrollHeight * 0;
            const endScaleScroll = document.body.scrollHeight * .3;
            const totalScale = (window.innerWidth/1920);
            const minScale = totalScale*.6;
            let currScale = totalScale;
            // Calculate the letter spacing based on the scroll position
            let letterSpacing = window.innerWidth < 500 ? 0 : 0; //changed so this does nothing
            
            //if scroll is not at top or bottom
            if (scrollPosition >= startScroll && scrollPosition <= endScroll) {
                letterSpacing += (scrollPosition / endScroll) * maxSpacing; // Calculate letter spacing
            //else if scroll is at bottom
            } else if (scrollPosition > endScroll) {
                letterSpacing += maxSpacing; // Cap at max spacing
            }
            if (scrollPosition >= startScaleScroll && scrollPosition <= endScaleScroll) {
                const scaleProgress = (scrollPosition - startScaleScroll) / (endScaleScroll - startScaleScroll);
                currScale = totalScale-((totalScale-minScale) * scaleProgress); // Adjust scale proportionally
            } else if (scrollPosition > endScaleScroll) {
                currScale = minScale; // Cap at minimum scale
            }
        
            // Apply the calculated letter spacing to the word
            word.style.letterSpacing = `${letterSpacing}px`; 
            flowerBundleL.style.scale = `${currScale}`;
            flowerBundleR.style.scale = `${currScale}`;


        /*
            // Adjust the opacity of the newsletter signup background
            const maxOpacity = 0.80; // Target opacity at maximum scroll
            const minOpacity = 0; // Starting opacity
            let opacity;

            if (scrollPosition <= endScroll) {
                opacity = minOpacity + (scrollPosition / endScroll) * (maxOpacity - minOpacity);
            } else {
                opacity = maxOpacity;
            }

            // Apply the opacity to the background color of newsletterSignup
            newsletterSignup.style.backgroundColor = `rgba(255, 255, 255, ${opacity})`;
        */
        });
    } else {
        console.error("Either 'animated-word' or 'newsletter-signup' element not found.");
    }
});

</script>


<script>
    //FORM OUTPUT
    const scriptURL = "https://script.google.com/macros/s/AKfycbwzF6tvfbhEdv96_Hp3wRct1gQhseovMiK_PVzuVdL-MMKa2gcL4aTg_ftwEXBq3xfd4Q/exec";

    document.getElementById("newsletterForm").addEventListener("submit", (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    fetch(scriptURL, { method: "POST", body: JSON.stringify(Object.fromEntries(formData)) })
        .then(response => alert("Subscribed successfully!"))
        .catch(error => alert("Error: " + error.message));
    });
    document.getElementById("contactForm").addEventListener("submit", (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    fetch(scriptURL, { method: "POST", body: JSON.stringify(Object.fromEntries(formData)) })
        .then(response => alert("Message sent successfully!"))
        .catch(error => alert("Error: " + error.message));
    });
</script>
</html>
